# Dockerfile.dev pour développement avec hot-reload
FROM node:lts-alpine

# Installer Vue CLI (optionnel)
RUN npm install -g @vue/cli

# Créer le répertoire de travail
WORKDIR /app

# Copier les fichiers de dépendances
COPY package*.json ./

# Installer les dépendances
RUN npm install

# Copier le code source (sera écrasé par le bind mount)
COPY . .

# Exposer le port Vite
EXPOSE 3000
EXPOSE 5173

# Variable d'environnement pour l'API
ARG VITE_API_URL=http://localhost:5001/api
ENV VITE_API_URL=$VITE_API_URL

# Commande par défaut (peut être override dans docker-compose)
CMD ["npm", "run", "dev", "--", "--host", "0.0.0.0", "--port", "3000"]

